dnl Process this with autoconf to create configure
AC_INIT(doc/kawa.texi)

AM_INIT_AUTOMAKE(kawa, 1.6.62)

AM_MAINTAINER_MODE
AC_PROG_CC
AC_EXEEXT

AC_ARG_PROGRAM
dnl AC_ARG_WITH(classpath,[  --with-classpath          Path to Java classes], classpath=$withval, classpath=$$CLASSPATH)
AC_ARG_ENABLE(kawa-frontend,
  [  --enable-kawa-frontend   Build "kawa" front-end program using readline],
  enable_kawa_frontend=$enableval, enable_kawa_frontend=no)
if test $enable_kawa_frontend = yes ; then
  kawa_bin=kawa
fi

AC_ARG_WITH(swing,
  [  --with-swing  Assume Swing (Java Foundation Classes) is available])

#AM_PROG_INSTALL
#AC_PROG_MAKE_SET

JAVA=${JAVA-java}
JAVAC=${JAVAC-javac}
AC_SUBST(JAVA)
AC_SUBST(JAVAC)
AC_SUBST(kawa_bin)
dnl We must have the absolute path to the build directory.
TOP_BUILDDIR=`pwd`

case ${with_swing} in
  yes) extra_java='$(java_SWING)' ;;
  *) extra_java='' ;;
esac
  
AC_SUBST(extra_java)
AC_SUBST(TOP_BUILDDIR)
AC_SUBST(CC)
AC_SUBST(CFLAGS)
AC_SUBST(PACKAGE)
AC_SUBST(VERSION)
AC_SUBST(SHELL)

AC_OUTPUT(Makefile gnu/Makefile gnu/bytecode/Makefile gnu/math/Makefile
  gnu/text/Makefile gnu/mapping/Makefile gnu/expr/Makefile
  gnu/kawa/Makefile gnu/kawa/reflect/Makefile gnu/ecmascript/Makefile
  gnu/jemacs/Makefile gnu/jemacs/lang/Makefile gnu/jemacs/buffer/Makefile
  kawa/Makefile kawa/lang/Makefile kawa/standard/Makefile kawa/lib/Makefile
  doc/Makefile testsuite/Makefile)
